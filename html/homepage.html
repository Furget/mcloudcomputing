<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Platform Donasi Online</title>
    <link rel="stylesheet" href="../css/home.css">
    <script src="https://sdk.amazonaws.com/js/aws-sdk-2.1197.0.min.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const hamburger = document.querySelector('.hamburger');
            const sidebar = document.querySelector('.sidebar');

            hamburger.addEventListener('click', () => {
                sidebar.classList.toggle('active');
            });

            // Konfigurasi AWS SDK
            AWS.config.update({
                region: 'us-east-1', // Ganti dengan region Anda
                credentials: new AWS.CognitoIdentityCredentials({
                    IdentityPoolId: 'us-east-1:example-identity-pool-id',
                }),
            });

            const dynamodb = new AWS.DynamoDB.DocumentClient();

            // Fungsi untuk mengambil data kampanye
            function loadCampaigns() {
                const params = {
                    TableName: 'Campaigns', // Ganti dengan nama tabel DynamoDB Anda
                };

                dynamodb.scan(params, (err, data) => {
                    if (err) {
                        console.error('Gagal memuat data:', err);
                        return;
                    }

                    const campaigns = data.Items;
                    const donationSection = document.getElementById('donation-section');
                    donationSection.innerHTML = '';

                    campaigns.forEach(campaign => {
                        const card = `
                            <div class="donation-card">
                                <h3>${campaign.title}</h3>
                                <p>${campaign.description}</p>
                                <button onclick="donate('${campaign.id}')">Donasi Sekarang</button>
                            </div>`;
                        donationSection.innerHTML += card;
                    });
                });
            }

            // Fungsi untuk menangani tombol "Donasi Sekarang"
            function donate(campaignId) {
                alert(`Anda akan mendonasikan untuk kampanye dengan ID: ${campaignId}`);
                // Tambahkan logika pengiriman donasi di sini
            }

            // Muat data kampanye saat halaman selesai dimuat
            loadCampaigns();
        });
    </script>
</head>
<body>
    <div class="navbar">
        <div class="title">Platform Donasi Online</div>
        <div class="hamburger">â˜°</div>
    </div>
    <div class="sidebar">
        <a href="#">Home</a>
        <a href="#">Akun Profil</a>
        <a href="#">Tempat Penggalangan Dimiliki</a>
        <a href="#">Riwayat Donasi</a>
        <a href="#">Pengaturan</a>
        <a href="#">Logout</a>
    </div>
    <main>
        <h2>Selamat Datang!</h2>
        <p>Jelajahi program donasi yang tersedia di bawah ini:</p>

        <div class="donation-section" id="donation-section">
            <!-- Kampanye akan dimuat secara dinamis -->
        </div>

        <div class="create-fundraiser">
            <h3>Ingin Membuat Penggalangan Dana Anda Sendiri?</h3>
            <button onclick="window.location.href='profil.html';">Buat Penggalangan Dana</button>
        </div>
    </main>
    <footer>
        <p>&copy; 2024 Bisa Aja Online. Semua hak dilindungi.</p>
    </footer>
</body>
</html>
